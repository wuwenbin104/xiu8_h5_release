var HttpRequest={Get(e,t,o,n,s){null!=t&&(t.id=MemberInfo.id);var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&a.status>=200&&a.status<400&&(null!=s&&0!=s||UITools.hideWaiting(),o&&o(a.responseText))},a.ontimeout=function(){UITools.hideWaiting(),n&&n("ontimeout")},a.onerror=function(){UITools.hideWaiting(),n&&n("XMLHttpRequestEventTarget.onerror")},a.timeout=1e4,e+="?";for(let r in t)e+=r+"="+encodeURIComponent(t[r])+"&";e=e.substring(0,e.length-1),cc.log("get url="+e),a.open("GET",e,!0),a.send()},Post(e,t,o,n,s){t.id=MemberInfo.id;var a=new XMLHttpRequest;a.onreadystatechange=function(){cc.log("====xhr.status=",a.status),4==a.readyState&&a.status>=200&&a.status<400&&(UITools.hideWaiting(),o&&o(a.responseText))},a.ontimeout=function(){cc.log("ontimeout"),UITools.hideWaiting(),n&&n("ontimeout")},a.onerror=function(){cc.log("onerror"),UITools.hideWaiting(),n&&n("XMLHttpRequestEventTarget.onerror")},a.timeout=1e4;let r="";for(let i in t)r+=1!=s?i+"="+encodeURIComponent(t[i])+"&":i+"="+t[i]+"&";cc.log("POST url="+e),cc.log("=length=====HttpRequest="),r=r.substring(0,r.length-1),console.log("POST:url=",e,"params:",r),a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(r)},OpenUrl(e,t,o,n){null==n&&(n=""),null!=o&&0!=o||(t.id=MemberInfo.id),e+="?";for(let s in t)e+=s+"="+encodeURIComponent(t[s])+"&";e=e.substring(0,e.length-1),cc.sys.isBrowser?UITools.SwitchScence("WebViewPay",()=>{cc.director.getScene().getChildByName("Canvas").getComponent("webviewPlay").init(e,n)}):cc.sys.openURL(e)},GetShareUrl(e,t){let o=cc.sys.localStorage.getItem("share_"+e);if(cc.log("====rsp1=",e),null==o){let o={code:"28652140235026",key:"6180b45ab2b7ab1975bb839bf9b97e88","params[name]":"xiuxiu"};o["params[age]"]=e,HttpRequest.Post("http://openshare.nongwanga.cn/api/params/create",o,o=>{let n=JSON.parse(o),s={};2==AreaCode?s.url="http://zx.mesecreative.net/lsj/index.html?sp="+n.data+"&p_id="+e:s.url="http://zx.mesecreative.net/xiuxiu/index.html?sp="+n.data+"&p_id="+e,s.mark="xiuxiu",HttpRequest.Post("https://45dwz.cn/apicreate.php?token=yzuF1hmu3CTFMu1r8jm1ww9JfH5EtJN8",s,o=>{let n=JSON.parse(o);if("1000"==n.code){cc.log("====rsp2=",o);let s=n.shortUrl;cc.sys.localStorage.setItem("share_"+e,s),t(s)}})})}else cc.log("====rsp2=",o),t(o)},CallBackMap:{}};